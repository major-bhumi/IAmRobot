<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>SVG Editor Menu</title>
  <link rel="stylesheet" href="index.css" />
</head>
<body>

<div id="app">
  <!-- Menubar -->
  <div class="menu-bar">
    <!-- File menu -->
    <div class="menu" data-menu="file">File
      <div class="dropdown">
        <div class="item" id="newFile">New<span class="shortcut">Ctrl+N</span></div>
        <div class="item" id="openFile">Open‚Ä¶<span class="shortcut">Ctrl+O</span></div>
        <div class="separator"></div>
        <div class="item" id="saveFile">Save<span class="shortcut">Ctrl+S</span></div>
        <div class="item" id="saveFile">Save As...<span class="shortcut">Ctrl+Shift+S</span></div>
        <div class="separator"></div>
        <div class="item has-submenu" id="importSVG">Import
          <span class="submenu-arrow">‚ñ∂</span>
          <div class="submenu">
            <div class="item" id="importToStage">Import to Stage...</div>
            <div class="item" id="importToLibrary">Import to Library...</div>
          </div>
        </div>
        <div class="item has-submenu" id="exportSVG">Export
          <span class="submenu-arrow">‚ñ∂</span>
          <div class="submenu">
            <div class="item" id="exportImage">Export Image</div>
            <div class="item" id="exportMovie">Export Movie</div>
          </div>
        </div>
      </div>
    </div>
    <!-- Edit menu -->
    <div class="menu" data-menu="edit">Edit
      <div class="dropdown">
        <div class="item" id="undo">Undo<span class="shortcut">Ctrl+Z</span></div>
        <div class="item" id="redo">Redo<span class="shortcut">Ctrl+Y</span></div>
        <div class="separator"></div>
        <div class="item" id="cut">Cut<span class="shortcut">Ctrl+X</span></div>
        <div class="item" id="copy">Copy<span class="shortcut">Ctrl+C</span></div>
        <div class="item" id="paste">Paste<span class="shortcut">Ctrl+V</span></div>
        <div class="item" id="duplicate">Duplicate<span class="shortcut">Ctrl+D</span></div>
        <div class="separator"></div>
        <div class="item" id="delete">Delete<span class="shortcut">Delete</span></div>
      </div>
    </div>
    <!-- View menu -->
    <div class="menu">View
      <div class="dropdown">
        <div class="item" id="toggleGrid"><span id="gridCheck" class="checkmark"></span>Show grid<span class="shortcut">F1</span></div>
        <div class="item" id="toggleRulers"><span id="rulerCheck" class="checkmark"></span>Show rulers<span class="shortcut">F2</span></div>
        <div class="item" id="toggleGuides">Show guides<span class="shortcut">F3</span></div>
        <div class="separator"></div>
        <div class="item" id="zoomIn">Zoom In</div>
        <div class="item" id="zoomOut">Zoom Out</div>
        <div class="item" id="zoomReset">Reset zoom</div>
        <div class="separator"></div>
        <div class="item" id="fitToScreen">Fit to Screen</div>
        <div class="item" id="zoomResetCenter">Zoom to Center</div>
        <div class="item" id="zoomToSelection">Zoom to Selection</div>
      </div>
    </div>
    <!-- View menu -->
    <div class="menu">Insert
      <div class="dropdown">
        <div class="item" id="insertLayer">Insert Layer</div>
        <div class="item" id="removeLayer">Remove Layer</div>
        <div class="separator"></div>
        <div class="item" id="insertFrame">Insert Frame<span class="shortcut">F5</span></div>
        <div class="item" id="removeFrame">Remove Frame</div>
      </div>
    </div>
    <!-- Modify menu -->
    <div class="menu">Modify
      <div class="dropdown">
        <div class="item" id="modifyDocument">Document...<span class="shortcut">Ctrl+J</span></div>
        <div class="separator"></div>
        <div class="item has-submenu" id="arrange">Arrange
          <span class="submenu-arrow">‚ñ∂</span>
          <div class="submenu">
            <div class="item" id="bringToFront">Bring to Front</div>
            <div class="item" id="bringForward">Bring Forward</div>
            <div class="item" id="sendBackward">Send Backward</div>
            <div class="item" id="sendToBack">Send to Back</div>
          </div>
        </div>
        <div class="item has-submenu" id="arrange">Align
          <span class="submenu-arrow">‚ñ∂</span>
            <div class="submenu">
            <div class="item" id="alignLeft">Left</div>
            <div class="item" id="alignHorozontal">Horizontal Center</div>
            <div class="item" id="alignRight">Right</div>
            <div class="separator"></div>
            <div class="item" id="alignTop">Top</div>
            <div class="item" id="alignVertical">Vertical Center</div>
            <div class="item" id="alignBottom">Bottom</div>
          </div>
        </div>
        <div class="separator"></div>
        <div class="item has-submenu" id="group">Group</div>
        <div class="item has-submenu" id="ungroup">Ungroup</div>
      </div>
    </div>
    <!-- Control menu -->
    <div class="menu">Control
      <div class="dropdown">
        <div class="item" id="controlPlay">Play</div>
        <div class="item" id="controlRewind">Rewind</div>
        <div class="item" id="loopPlayback">Loop Playback</div>
        <div class="separator"></div>
        <div class="item" id="stepForward">Step Forward<span class="shortcut">.</span></div>
        <div class="item" id="stepBackward">Step Backward<span class="shortcut">,</span></div>
        <div class="separator"></div>
        <div class="item" id="muteSounds">Mute Sounds</div>
      </div>
    </div>
    <!-- About menu -->
    <div class="menu">Help
      <div class="dropdown">
        <div class="item" id="appHelp">Help<span class="shortcut">Shift+F1</span></div>
        <div class="item" id="aboutApp">About<span class="shortcut">F1</span></div>
      </div>
    </div>

  </div>

  <!-- Toolbar -->
  <div class="toolbar">
    <button class="tool-btn" id="homBtn" title="Home">
      <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor">
        <path d="M3 11.5L12 3l9 8.5c.4.4.1 1.1-.4 1.1h-2.1v7.4
                c0 .6-.4 1-1 1h-4.5v-5.5c0-.6-.4-1-1-1h-2
                c-.6 0-1 .4-1 1V21H6.5c-.6 0-1-.4-1-1v-7.4H3.4
                c-.5 0-.8-.7-.4-1.1z"/>
      </svg>
    </button>
    <div class="toolbar-separator"></div>
    <button class="tool-btn" id="undoBtn" title="Undo (Ctrl+Z)">
      ‚ü≤
    </button>
    <button class="tool-btn" id="redoBtn" title="Redo (Ctrl+Y)">
      ‚ü≥
    </button>
    <div class="toolbar-separator"></div>
    <button class="tool-btn" id="zoomOutBtn" title="Zoom Out">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" width="24" height="24" fill="none">
        <!-- Circle -->
        <circle cx="45" cy="45" r="30" stroke="currentColor" stroke-width="10"/>
        <!-- Handle -->
        <line x1="65" y1="65" x2="92" y2="92" stroke="currentColor" stroke-width="10" stroke-linecap="round"/>
        <!-- Minus -->
        <line x1="32" y1="45" x2="58" y2="45" stroke="currentColor" stroke-width="8" stroke-linecap="round"/>
      </svg>
    </button>
    <button class="tool-btn" id="zoomInBtn" title="Zoom In">
      <svg
        xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" width="24" height="24" fill="none">
        <!-- Circle -->
        <circle cx="45" cy="45" r="30" stroke="currentColor" stroke-width="10"/>
        <!-- Handle -->
        <line x1="65" y1="65" x2="92" y2="92" stroke="currentColor" stroke-width="10" stroke-linecap="round"/>
        <!-- Plus horizontal -->
        <line x1="32" y1="45" x2="58" y2="45" stroke="currentColor" stroke-width="8" stroke-linecap="round"/>
        <!-- Plus vertical -->
        <line x1="45" y1="32" x2="45" y2="58" stroke="currentColor" stroke-width="8" stroke-linecap="round"/>
      </svg>
    </button>
    <button class="tool-btn" id="resetZoomBtn" title="Reset Zoom">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" width="24" height="24" fill="none">
        <!-- Circle -->
        <circle cx="45" cy="45" r="30" stroke="currentColor" stroke-width="10"/>
        <!-- Handle -->
        <line x1="65" y1="65" x2="92" y2="92" stroke="currentColor" stroke-width="10" stroke-linecap="round"/>
      </svg>
    </button>
    <div class="toolbar-separator"></div>
  </div>

  <!-- Workspace -->
  <div id="workspace">
    <!-- Left toolbar -->
    <div class="left-toolbar">
      <button class="tool-btn vertical active" id="transformTool" title="Transform">
        <span class="icon"><img src="system/icons/toolbar_transform_path.svg" alt=""></span>
      </button>
      <button class="tool-btn vertical" id="editTool" title="Edit">
        <span class="icon"><img src="system/icons/toolbar_edit_path.svg" alt=""></span>
      </button>
      <button class="tool-btn vertical" id="addAnchorTool" title="Add Anchor"  data-tool="add-anchor">
        <span class="icon">Ôºã‚óØ</span>
      </button>
      <button class="tool-btn vertical" id="deleteAnchorTool" title="Delete Anchor"  data-tool="delete-anchor">
        <span class="icon">‚àí‚óØ</span>
      </button>
      <button class="tool-btn vertical" id="joinAnchorTool" title="Snap Anchor"  data-tool="join-anchor">
        <span class="icon">üîó</span>
      </button>
      <div class="tool-separator"></div>
      <button class="tool-btn vertical" id="splineTool" title="Spline">
        <span class="icon vector-line-spline"><img src="system/icons/vector-line-spline.svg" alt=""></span>
      </button>
      <button class="tool-btn vertical" id="drawTool" title="Freehand">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64">
          <!-- Freehand curve -->
          <path d="M14 38 C24 22, 34 48, 44 32 S56 26, 50 20" fill="none" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
          <!-- Pen nib -->
          <path
            d="M28 18 L34 24 L30 30 L24 24 Z" fill="none" stroke="currentColor" stroke-width="3" stroke-linejoin="round"/>
          <!-- Nib hole -->
          <circle cx="29" cy="24" r="1.5" fill="currentColor"/>
        </svg>
      </button>
      <button class="tool-btn vertical" id="rectangleTool" title="Rectangle">
        <span class="icon">
          <svg viewBox="0 0 24 24" width="18" height="18" aria-hidden="true">
            <rect x="5" y="7" width="15" height="15" rx="1" fill="currentColor" stroke="black" stroke-width="1"/>
          </svg>
        </span>
      </button>
      <button class="tool-btn vertical" id="ellipseTool" title="Ellipse">
        <span class="icon">
          <svg viewBox="0 0 24 24" width="22" height="22" aria-hidden="true">
            <circle cx="12" cy="12" r="7" fill="currentColor" stroke="black" stroke-width="1"/>
          </svg>
        </span>
      </button>
    </div>

    <!-- Svg canvas -->
    <svg id="svgCanvas" width="100%" height="100%">
      <rect id="workspaceBg" x="0" y="0" width="100%" height="100%" fill="#B4B1B1" />

      <!-- CANVAS BACKGROUND -->
      <rect
        id="canvasBg"
        x="-50000"
        y="-50000"
        width="100000"
        height="100000"
        fill="#8C8B8B"
        pointer-events="none"
      />

      <!-- CAMERA -->
      <g id="viewport">
        <g id="camera">
          <!-- DOCUMENT STAGE -->
          <g id="stageLayer" pointer-events="none">
            <rect id="stageRect" />
          </g>

          <g id="contentLayer"></g>
          <g id="editLayer"></g>
          <g id="selectionLayer"></g>
          <g id="overlayLayer" pointer-events="none"></g>
        </g>
      </g>

      <!-- GRID LAYER -->
      <g id="gridLayer" pointer-events="none">
        <rect
          x="-50000"
          y="-50000"
          width="100000"
          height="100000"
          fill="url(#gridPattern)"
        />
      </g>

      <!-- RULER BACKGROUNDS (STATIC, NEVER TOUCHED BY JS) -->
      <g id="rulerBgLayer" pointer-events="none">
        <rect x="0" y="0" width="100%" height="20" fill="#343434" />
        <rect x="0" y="0" width="20" height="100%" fill="#343434" />
      </g>

      <!-- RULER CONTENT (TICKS + NUMBERS ONLY) -->
      <g id="rulerContentLayer" pointer-events="none">
        <g id="rulerX"></g>
        <g id="rulerY"></g>
      </g>
      
    </svg>

    <!-- OPTIONS PANEL (POPOUT) -->
     <div id="optionsPanel" class="collapsed">
      <div id="optionsPopout">‚ùÆ</div>

      <div class="options-header">Inspector</div>

      <div class="options-content">
        <div id="inspectorEmpty" class="inspector-empty">
          No selection
        </div>

        <div id="inspectorPath" class="inspector-group hidden">
          <div class="group-title">Appearance</div>

          <div class="cp-row-inline">
            <div class="cp-label-inline">Stroke</div>
            <button id="pickStroke" class="cp-mini" type="button">
              <span id="strokeChip" class="cp-mini-chip"></span>
              <span class="cp-mini-text">Stroke‚Ä¶</span>
            </button>
          </div>

          <label>
            Stroke Width
            <input type="number" id="strokeWidth" min="0" step="0.5">
          </label>

          <div class="cp-row-inline">
            <div class="cp-label-inline">Fill</div>
            <button id="pickFill" class="cp-mini" type="button">
              <span id="fillChip" class="cp-mini-chip"></span>
              <span class="cp-mini-text">Fill‚Ä¶</span>
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- LAYER PANEL -->
     <div id="layersPanel">
      <div class="layers-header">Library</div>
      <div id="layersList"></div>
    </div>

  </div>

  <!-- Timeline Panel -->
  <div id="timelinePanel">
    <div id="timelineHeader">
      <div id="timelineLayersLabel">Timeline</div>
      <div id="timelineRuler">
        <div id="timelineRulerInner"></div>
        <!-- Frame numbers will be dynamically generated -->
      </div>
    </div>

    <div id="timelineContent">
      <!-- ‚úÖ this is the shared VERTICAL scroller -->
      <div id="timelineBody">
        <div id="timelineLayers"></div>

        <!-- frames viewport (content moves horizontally by translate) -->
        <div id="timelineFramesViewport">
          <div id="timelineFrames"></div>
        </div>
      </div>

      <!-- ‚úÖ this stays pinned at bottom: HORIZONTAL scrollbar only -->
      <div id="timelineHScroll">
        <div id="timelineScrollInner"></div>
      </div>
    </div>

  </div>
</div>

<div id="contextMenu" class="context-menu hidden">
  <div class="context-item" id="menuAbout">About</div>
</div>

<!-- Modal backdrop -->
<div id="cpBackdrop" class="cp-backdrop hidden"></div>

<!-- Color picker popup -->
<div id="colorPicker" class="cp hidden">
  <div class="cp-header">
    <div class="cp-title" id="cpTitle">Color</div>
    <button class="cp-close" id="cpClose">‚úï</button>
  </div>

  <div class="cp-body">
    <div class="cp-sv-wrap">
      <canvas id="cpSV" width="220" height="180"></canvas>
      <div id="cpCursor" class="cp-cursor"></div>
    </div>

    <div class="cp-sliders">
      <div class="cp-strip">
        <canvas id="cpHue" width="18" height="180"></canvas>
        <div id="cpHueCursor" class="cp-strip-cursor"></div>
      </div>

      <div class="cp-strip">
        <canvas id="cpAlpha" width="18" height="180"></canvas>
        <div id="cpAlphaCursor" class="cp-strip-cursor"></div>
      </div>

      <div class="cp-preview">
        <div class="cp-swatch">
          <div class="cp-label">New</div>
          <div id="cpNew" class="cp-chip"></div>
        </div>
        <div class="cp-swatch">
          <div class="cp-label">Old</div>
          <div id="cpOld" class="cp-chip"></div>
        </div>
      </div>
    </div>
  </div>

  <div class="cp-footer">
    <div class="cp-row">
      <label>HEX</label>
      <input id="cpHex" type="text" spellcheck="false" />
    </div>

    <div class="cp-row cp-rgba">
      <label>RGBA</label>
      <input id="cpR" type="number" min="0" max="255" />
      <input id="cpG" type="number" min="0" max="255" />
      <input id="cpB" type="number" min="0" max="255" />
      <input id="cpA" type="number" min="0" max="100" />
    </div>

    <div class="cp-swatches" id="cpSwatches"></div>

    <div class="cp-actions">
      <button id="cpCancel" class="cp-btn">Cancel</button>
      <button id="cpOK" class="cp-btn primary">OK</button>
    </div>
  </div>
</div>

<script src="index.js"></script>

</body>
</html>


