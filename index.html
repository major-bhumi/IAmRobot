<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>SVG Editor Menu</title>
  <link rel="stylesheet" href="index.css" />
</head>
<body>

<div id="app">
  <!-- Menubar -->
  <div class="menu-bar">
    <!-- File menu -->
    <div class="menu" data-menu="file">File
      <div class="dropdown">
        <div class="item" id="newFile">New<span class="shortcut">Ctrl+N</span></div>
        <div class="item" id="openFile">Open‚Ä¶<span class="shortcut">Ctrl+O</span></div>
        <div class="separator"></div>
        <div class="item" id="saveFile">Save<span class="shortcut">Ctrl+S</span></div>
        <div class="item" id="saveFile">Save as...<span class="shortcut">Ctrl+Shift+S</span></div>
        <div class="separator"></div>
        <div class="item" id="importSVG">Import...</div>
        <div class="item has-submenu" id="exportSVG">Export
          <span class="submenu-arrow">‚ñ∂</span>
          <div class="submenu">
            <div class="item" id="exportImage">Image...</div>
          </div>
        </div>
      </div>
    </div>
    <!-- Edit menu -->
    <div class="menu" data-menu="edit">Edit
      <div class="dropdown">
        <div class="item" id="undo">Undo<span class="shortcut">Ctrl+Z</span></div>
        <div class="item" id="redo">Redo<span class="shortcut">Ctrl+Shift+Z</span></div>
        <div class="separator"></div>
        <div class="item" id="cut">Cut<span class="shortcut">Ctrl+X</span></div>
        <div class="item" id="copy">Copy<span class="shortcut">Ctrl+C</span></div>
        <div class="item" id="paste">Paste<span class="shortcut">Ctrl+V</span></div>
        <div class="item" id="duplicate">Duplicate<span class="shortcut">Ctrl+D</span></div>
        <div class="separator"></div>
        <div class="item" id="delete">Delete<span class="shortcut">Delete</span></div>
      </div>
    </div>
    <!-- View menu -->
    <div class="menu">View
      <div class="dropdown">
        <div class="item" id="toggleGrid"><span id="gridCheck" class="checkmark"></span>Show grid<span class="shortcut">F1</span></div>
        <div class="item" id="toggleRulers"><span id="rulerCheck" class="checkmark"></span>Show rulers<span class="shortcut">F2</span></div>
        <div class="item" id="toggleGuides">Show guides<span class="shortcut">F3</span></div>
        <div class="separator"></div>
        <div class="item" id="zoomIn">Zoom in</div>
        <div class="item" id="zoomOut">Zoom out</div>
        <div class="item" id="zoomReset">Reset zoom</div>
        <div class="separator"></div>
        <div class="item" id="fitToScreen">Fit to screen</div>
        <div class="item" id="zoomResetCenter">Zoom to center</div>
        <div class="item" id="zoomToSelection">Zoom to Selection</div>
      </div>
    </div>
    <!-- Modify menu -->
    <div class="menu">Modify
      <div class="dropdown">
        <div class="item" id="modifyDocument"></span>Document...<span class="shortcut">Ctrl+J</span></div>
        <div class="separator"></div>
        <div class="item has-submenu" id="arrange">Arrange
          <span class="submenu-arrow">‚ñ∂</span>
          <div class="submenu">
            <div class="item" id="bringToFront">Bring to Front</div>
            <div class="item" id="bringForward">Bring Forward</div>
            <div class="item" id="sendBackward">Send Backward</div>
            <div class="item" id="sendToBack">Send to Back</div>
          </div>
        </div>
      </div>
    </div>
    <!-- About menu -->
    <div class="menu">About
      <div class="dropdown">
        <div class="item" id="aboutApp">About</div>
      </div>
    </div>

  </div>

  <!-- Toolbar -->
  <div class="toolbar">
    <button class="tool-btn" id="homBtn" title="Home">
      <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor">
        <path d="M3 11.5L12 3l9 8.5c.4.4.1 1.1-.4 1.1h-2.1v7.4
                c0 .6-.4 1-1 1h-4.5v-5.5c0-.6-.4-1-1-1h-2
                c-.6 0-1 .4-1 1V21H6.5c-.6 0-1-.4-1-1v-7.4H3.4
                c-.5 0-.8-.7-.4-1.1z"/>
      </svg>
    </button>
    </button>
    <div class="toolbar-separator"></div>
    <button class="tool-btn" id="undoBtn" title="Undo (Ctrl+Z)">
      ‚ü≤
    </button>
    <button class="tool-btn" id="redoBtn" title="Redo (Ctrl+Y)">
      ‚ü≥
    </button>
    <div class="toolbar-separator"></div>
    <button class="tool-btn" id="resetZoomBtn" title="Reset Zoom">
      ‚åï
    </button>
  </div>

  <!-- Workspace -->
  <div id="workspace">
    <!-- Left toolbar -->
    <div class="left-toolbar">
      <button class="tool-btn vertical active" id="transformTool" title="Transform">
        <span class="icon">
          <svg viewBox="0 0 24 24" width="18" height="18" aria-hidden="true">
            <path d="M4 3v18l5-5 4 8 3-1-4-8h6z" fill="currentColor"/>
          </svg>
        </span>
      </button>
      <button class="tool-btn vertical" id="editTool" title="Edit">
        <span class="icon">‚û§</span>
      </button>
      <button class="tool-btn vertical" id="addAnchorTool" title="Add Anchor"  data-tool="add-anchor">
        <span class="icon">Ôºã‚óØ</span>
      </button>
      <button class="tool-btn vertical" id="deleteAnchorTool" title="Delete Anchor"  data-tool="delete-anchor">
        <span class="icon">‚àí‚óØ</span>
      </button>
      <button class="tool-btn vertical" id="joinAnchorTool" title="Snap Anchor"  data-tool="join-anchor">
        <span class="icon">üîó</span>
      </button>
      <div class="tool-separator"></div>
      <button class="tool-btn vertical" id="splineTool" title="Spline">
        <span class="icon vector-line-spline"><img src="system/icons/vector-line-spline.svg" alt=""></span>
      </button>
      <button class="tool-btn vertical" id="drawTool" title="Freehand">
        <span class="icon">‚úé</span>
      </button>
      <button class="tool-btn vertical" id="rectangleTool" title="Rectangle">
        <span class="icon">
          <svg viewBox="0 0 24 24" width="18" height="18" aria-hidden="true">
            <rect x="5" y="7" width="15" height="15" rx="1" fill="currentColor" stroke="black" stroke-width="1"/>
          </svg>
        </span>
      </button>
      <button class="tool-btn vertical" id="ellipseTool" title="Ellipse">
        <span class="icon">
          <svg viewBox="0 0 24 24" width="22" height="22" aria-hidden="true">
            <circle cx="12" cy="12" r="7" fill="currentColor" stroke="black" stroke-width="1"/>
          </svg>
        </span>
      </button>
    </div>

    <!-- Svg canvas -->
    <svg id="svgCanvas" width="100%" height="100%">
      <rect id="workspaceBg" x="0" y="0" width="100%" height="100%" fill="#B4B1B1" />

      <!-- CANVAS BACKGROUND -->
      <rect
        id="canvasBg"
        x="-50000"
        y="-50000"
        width="100000"
        height="100000"
        fill="#8C8B8B"
        pointer-events="none"
      />

      <!-- CAMERA -->
      <g id="viewport">
        <g id="camera">
          <!-- DOCUMENT STAGE -->
          <g id="stageLayer" pointer-events="none">
            <rect id="stageRect" />
          </g>

          <g id="contentLayer"></g>
          <g id="editLayer"></g>
          <g id="selectionLayer" pointer-events="none"></g>
          <g id="overlayLayer" pointer-events="none"></g>
        </g>
      </g>

      <!-- GRID LAYER -->
      <g id="gridLayer" pointer-events="none">
        <rect
          x="-50000"
          y="-50000"
          width="100000"
          height="100000"
          fill="url(#gridPattern)"
        />
      </g>

      <!-- RULER BACKGROUNDS (STATIC, NEVER TOUCHED BY JS) -->
      <g id="rulerBgLayer" pointer-events="none">
        <rect x="0" y="0" width="100%" height="20" fill="#343434" />
        <rect x="0" y="0" width="20" height="100%" fill="#343434" />
      </g>

      <!-- RULER CONTENT (TICKS + NUMBERS ONLY) -->
      <g id="rulerContentLayer" pointer-events="none">
        <g id="rulerX"></g>
        <g id="rulerY"></g>
      </g>
      
    </svg>

    <!-- OPTIONS PANEL (POPOUT) -->
    <div id="optionsPanel" class="collapsed">
      <div id="optionsPopout">‚ùÆ</div>

      <div class="options-header">Inspector</div>

      <div id="inspectorEmpty" class="inspector-empty">
        No selection
      </div>

      <div id="inspectorPath" class="inspector-group hidden">
        <div class="group-title">Appearance</div>

        <div class="color-section">
          <div class="color-label">Stroke</div>
          <canvas id="strokeSV" width="160" height="120"></canvas>
          <input type="range" id="strokeHue" min="0" max="360">
        </div>

        <label>
          Stroke Width
          <input type="number" id="strokeWidth" min="0" step="0.5">
        </label>

        <div class="color-section">
          <div class="color-label">Fill</div>
          <canvas id="fillSV" width="160" height="120"></canvas>
          <input type="range" id="fillHue" min="0" max="360">
        </div>

        <label>
          Opacity
          <input type="range" id="opacity" min="0" max="1" step="0.05">
        </label>
      </div>

    </div>

    <!-- LAYER PANEL -->
     <div id="layersPanel">
      <div class="layers-header">Library</div>
      <div id="layersList"></div>
    </div>

  </div>

  <!-- Timeline Panel -->
  <div id="timelinePanel">
    <div id="timelineHeader">
      <div id="timelineLayersLabel">Timeline</div>
      <div id="timelineRuler">
        <!-- Frame numbers will be dynamically generated -->
      </div>
    </div>

    <div id="timelineContent">
      <div id="timelineLayers">
        <!-- Layer names vertically -->
      </div>
      <div id="timelineFrames">
        <!-- Frames horizontally aligned with layers -->
      </div>
    </div>
  </div>
</div>

<div id="contextMenu" class="context-menu hidden">
  <div class="context-item" id="menuAbout">About</div>
</div>

<script src="index.js"></script>

</body>
</html>
